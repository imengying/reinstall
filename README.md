## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ [@bin456789/reinstall](https://github.com/bin456789/reinstall) çš„ç²¾ç®€é‡æ„ç‰ˆæœ¬ã€‚æˆ‘ä»¬å‰”é™¤äº†å¤šä½™çš„å‘è¡Œç‰ˆæ”¯æŒï¼Œä¸“æ³¨äºæ‰“ç£¨ **Debian** çš„å®‰è£…ä½“éªŒã€‚

**æ ¸å¿ƒç›®æ ‡**ï¼šå°†ä»»æ„ Linux ç³»ç»Ÿï¼ˆVPS/äº‘ä¸»æœº/ç‰©ç†æœºï¼‰ä¸€é”®é‡è£…ä¸ºçº¯å‡€çš„ Debian ç³»ç»Ÿï¼Œä½¿ç”¨Btrfsæ–‡ä»¶ç³»ç»Ÿï¼Œå¯å¼€å¯Zstd å‹ç¼©ï¼Œå®ç°**30%-50% çš„ç£ç›˜ç©ºé—´èŠ‚çœ**å’Œæ˜¾è‘—çš„ I/O æ€§èƒ½æå‡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° |
| :--- | :--- |
| ğŸ§ **çº¯å‡€æ„å»º** | ä»…å®‰è£…æœ€æ ¸å¿ƒç»„ä»¶ï¼Œæ— ä»»ä½•å¤šä½™é¢„è£…è½¯ä»¶ã€‚ |
| ğŸ’¾ **Btrfs + Zstd** | æ‰‹åŠ¨å¼€å¯ `compress=zstd`ï¼Œå¤§å¹…èŠ‚çœç©ºé—´å¹¶å»¶é•¿é—ªå­˜å¯¿å‘½ã€‚ |
| ğŸ”’ **å®‰å…¨å¼ºåŒ–** | é»˜è®¤ç”Ÿæˆé«˜å¼ºåº¦éšæœºå¯†ç ï¼ˆ`/dev/urandom`ï¼‰ï¼Œæ‹’ç»å¼±å£ä»¤é£é™©ã€‚ |
| â˜ï¸ **äº‘ç«¯é€‚é…** | è‡ªåŠ¨ä¿®å¤ Azure åŠ é€Ÿç½‘ç»œé—®é¢˜ï¼›Alpine Initrd ä½¿ç”¨ `udhcpc` è§£å†³éƒ¨åˆ†äº‘å‚å•† DHCP ç§Ÿçº¦é—®é¢˜ã€‚ |
| ğŸ”§ **çµæ´»é…ç½®** | æ”¯æŒè‡ªå®šä¹‰ SSH ç«¯å£ã€å¯¼å…¥ SSH å…¬é’¥ã€‚ |


## ä¸‹è½½

```bash
curl -O https://raw.githubusercontent.com/imengying/reinstall/main/reinstall.sh || wget -O ${_##*/} $_
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ ‡å‡†å®‰è£… (æ¨è)

æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼ï¼Œè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆ Debianï¼š

```bash
bash reinstall.sh debian
```

å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼ˆæ”¯æŒ 9, 10, 11, 12, 13ï¼‰ï¼š

```bash
bash reinstall.sh debian 12
```

### 2. é«˜çº§é…ç½®

å¦‚æœæ‚¨æœ‰ç‰¹å®šéœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°ï¼š

```bash
# æŒ‡å®š SSH ç«¯å£ (é»˜è®¤ 22)
bash reinstall.sh debian --ssh-port 2222

# æŒ‡å®šå›ºå®šå¯†ç  (ä¸æ¨èï¼Œå»ºè®®ä½¿ç”¨é»˜è®¤éšæœºå¯†ç )
bash reinstall.sh debian --password "MySecurePassword123!"

# å¯¼å…¥ SSH å…¬é’¥ (ç›´æ¥æä¾›)
bash reinstall.sh debian --ssh-key "ssh-ed25519 AAAA..."
```

> [!TIP]
> **å…³äº Btrfs å‹ç¼©**ï¼š
> è‹¥åœ¨ DD ç³»ç»Ÿåéœ€å¼€å¯é€æ˜å‹ç¼©ï¼Œè¯·æ‰‹åŠ¨ç¼–è¾‘ `/etc/fstab` æ·»åŠ  `compress=zstd` æŒ‚è½½é€‰é¡¹ï¼Œé‡å¯åæ‰§è¡Œå…¨ç›˜å‹ç¼©ï¼š
> `btrfs filesystem defragment -r -v -czstd /`

## ğŸ“Š ç³»ç»Ÿè¯¦æƒ…

| é¡¹ç›® | é…ç½® |
| :--- | :--- |
| **é»˜è®¤ç”¨æˆ·** | `root` |
| **é»˜è®¤å¯†ç ** | å®‰è£…ç»“æŸæ—¶åœ¨ç»ˆç«¯**éšæœºç”Ÿæˆå¹¶æ˜¾ç¤º**ï¼Œè¯·åŠ¡å¿…æˆªå›¾æˆ–è®°å½•ï¼ |
| **æ–‡ä»¶ç³»ç»Ÿ** | **Btrfs** (Zstd å‹ç¼©) |
| **åˆ†åŒºæ–¹æ¡ˆ** | è‡ªåŠ¨æ‰©å®¹æ ¹åˆ†åŒºä»¥åˆ©ç”¨æ‰€æœ‰ç©ºé—´ï¼Œ**æ—  Swap åˆ†åŒº**ã€‚ |

## âš™ï¸ å‰ç½®ä¾èµ–

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒï¼Œä½†åœ¨æç®€ç³»ç»Ÿä¸Šå¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…åŸºç¡€å·¥å…·ï¼š

```bash
# Debian/Ubuntu
apt update && apt install -y curl grep openssl

# CentOS/RHEL
yum install -y curl grep openssl

# Alpine
apk add curl grep openssl bash
```

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª [MIT License](LICENSE) å¼€æºåè®®ã€‚
